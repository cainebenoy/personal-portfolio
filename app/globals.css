@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Sketch Mode (Light) */
  --paper: #f4f1ea;
  --ink: #2b2b2b;
  --highlight: #ff4757;
  --blue-ink: #2f3542;
  --canvas-color: rgba(75, 78, 83, 0.8);
  --canvas-bg: rgba(255, 255, 255, 0);
  --surface: #ffffff;
  --surface-alt: #f4f1ea;
  --muted: #4b5563;
  --muted-strong: #1f2937;
  --border: rgba(0, 0, 0, 0.12);
  color-scheme: light;
}

html[data-theme="blueprint"] {
  /* Blueprint Mode (Dark) */
  --paper: #0f172a;
  --ink: #e8e8e8;
  --highlight: #ff6b35;
  --blue-ink: #5a7cfa;
  --canvas-color: rgba(90, 124, 250, 0.7);
  --canvas-bg: rgba(26, 31, 46, 0);
  --surface: #0b1220;
  --surface-alt: #111827;
  --muted: #cbd5f5;
  --muted-strong: #e5e7eb;
  --border: rgba(232, 232, 232, 0.16);
  color-scheme: dark;
}

body {
  background-color: var(--paper);
  color: var(--ink);
  cursor: none; /* We will build a custom cursor next */
  overflow-x: hidden;
  -webkit-user-select: none; /* Safari Support */
  user-select: none;
  transition: background-color 300ms ease, color 300ms ease;
}

/* Ultra-smooth transitions for all theme-aware elements */
* {
  transition-property: background-color, color, border-color, box-shadow, fill, stroke;
  transition-duration: 300ms;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
}

/* Theme-aware overrides to keep all elements legible in both modes */
input, textarea, select {
  background-color: var(--surface);
  color: var(--ink);
  border-color: var(--border);
}

/* Simple utility helpers for theme surfaces/text/borders */
.theme-surface { background-color: var(--surface) !important; }
.theme-surface-alt { background-color: var(--surface-alt) !important; }
.theme-ink { color: var(--ink) !important; }
.theme-muted { color: var(--muted) !important; }
.theme-border { border-color: var(--border) !important; }
.bg-paper { background-color: var(--paper) !important; }

.bg-white, .bg-gray-50, .bg-gray-100 {
  background-color: var(--surface) !important;
}

.text-gray-500, .text-gray-600 {
  color: var(--muted) !important;
}

.text-gray-700, .text-gray-800 {
  color: var(--muted-strong) !important;
}

.border-gray-200, .border-gray-300 {
  border-color: var(--border) !important;
}

.writing-vertical-rl { writing-mode: vertical-rl; }

/* Paper Texture Overlay */
.paper-texture {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 0;
  opacity: 0.6;
  /* Removed CORS-blocked external texture - using CSS gradient instead */
  background: linear-gradient(45deg, rgba(0,0,0,0.02) 25%, transparent 25%, transparent 75%, rgba(0,0,0,0.02) 75%, rgba(0,0,0,0.02)), linear-gradient(45deg, rgba(0,0,0,0.02) 25%, transparent 25%, transparent 75%, rgba(0,0,0,0.02) 75%, rgba(0,0,0,0.02));
  background-size: 2px 2px;
  background-position: 0 0, 1px 1px;
  mix-blend-mode: multiply;
}

.writing-vertical {
  writing-mode: vertical-rl;
}

.tear-strip.tearing {
  animation: tear-drop 0.65s cubic-bezier(0.22, 0.61, 0.36, 1);
  transform-origin: top center;
}
.copy-toast { pointer-events: none; }

@keyframes tear-drop {
  0% { transform: translateY(0) rotate(0deg) scaleY(1); opacity: 1; }
  25% { transform: translateY(4px) rotate(-2deg) scaleY(0.96); }
  55% { transform: translateY(28px) rotate(3deg) scaleY(0.85); opacity: 0.9; }
  100% { transform: translateY(140px) rotate(6deg) scaleY(0.35); opacity: 0; }
}

/* Scrollbar */
::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-track { background: var(--paper); }
::-webkit-scrollbar-thumb { background: #ccc; border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: var(--ink); }

/* Utilities */
.magnetic { display: inline-block; transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
.reveal-text { opacity: 0; transform: translateY(100px); }

@keyframes confetti-fall {
  0% { 
    transform: translateY(0) rotate(0deg) translateX(0);
    opacity: 1;
  }
  100% { 
    transform: translateY(100vh) rotate(720deg) translateX(100px);
    opacity: 0;
  }
}

@keyframes fade-in-up {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-confetti-fall {
  animation: confetti-fall 3s linear forwards;
}

.animate-fade-in {
  animation: fade-in-up 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

/* Grunge Mask for Credentials Bin */
.mask-image-grunge {
  /* Removed CORS-blocked external mask - using CSS fallback */
  opacity: 0.95;
}

/* Stamp Badge Style */
.stamp-badge {
  border: 3px double var(--blue-ink);
  color: var(--blue-ink);
  border-radius: 50%;
  width: 100px;
  height: 100px;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  font-family: 'Permanent Marker', cursive;
  font-size: 0.8rem;
  transform: rotate(-15deg);
  opacity: 0.7;
}

/* Certificate Modal Animations */
@keyframes backdropFadeIn {
  from {
    background-color: rgba(0, 0, 0, 0);
    -webkit-backdrop-filter: blur(0px);
    backdrop-filter: blur(0px);
  }
  to {
    background-color: rgba(0, 0, 0, 0.6);
    -webkit-backdrop-filter: blur(8px);
    backdrop-filter: blur(8px);
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes scaleInCenter {
  from {
    opacity: 0;
    transform: scale(0.92) translateY(20px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}
@keyframes slideInCard {
  0% {
    opacity: 0;
    transform: translateY(100px) rotate(10deg) scale(0.9);
  }
  100% {
    opacity: 1;
    transform: translateY(0) rotate(0deg) scale(1);
  }
}

.animate-slide-in-card {
  animation: slideInCard 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

.skeleton {
  background: linear-gradient(
    90deg,
    rgba(0, 0, 0, 0.03) 25%,
    rgba(0, 0, 0, 0.08) 50%,
    rgba(0, 0, 0, 0.03) 75%
  );
  background-size: 200% 100%;
  animation: skeleton-loading 1.5s infinite;
}

@keyframes skeleton-loading {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

/* Utility classes for inline style fixes */
.bg-dots {
  background-image: radial-gradient(#333 1px, transparent 1px);
  background-size: 20px 20px;
}

.torn-edge {
  @apply absolute top-[-20px] left-0 w-full h-[20px] bg-paper;
  clip-path: polygon(0% 100%, 5% 0%, 10% 100%, 15% 0%, 20% 100%, 25% 0%, 30% 100%, 35% 0%, 40% 100%, 45% 0%, 50% 100%, 55% 0%, 60% 100%, 65% 0%, 70% 100%, 75% 0%, 80% 100%, 85% 0%, 90% 100%, 95% 0%, 100% 100%);
}

.cert-wall-texture {
  background-image: radial-gradient(rgba(0,0,0,0.12) 1px, transparent 1px);
  background-size: 12px 12px;
}

.cert-tape {
  @apply absolute -top-3 left-1/2 w-8 h-4 bg-white/60 backdrop-blur-[1px] -translate-x-1/2 shadow-sm border-l border-r border-white/40 z-20;
}

.cert-modal-texture {
  background-image: radial-gradient(#000 1px, transparent 1px);
  background-size: 20px 20px;
}

.gallery-style {
  background-color: var(--paper);
  transition-property: transform, box-shadow, z-index;
}

.github-grid {
  background-image: linear-gradient(#64ffda 1px, transparent 1px), linear-gradient(90deg, #64ffda 1px, transparent 1px);
  background-size: 20px 20px;
}

.tech-radar-texture {
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100"><defs><pattern id="dots" x="0" y="0" width="10" height="10" patternUnits="userSpaceOnUse"><circle cx="5" cy="5" r="1" fill="%23000"/></pattern></defs><rect width="100" height="100" fill="url(%23dots)"/></svg>');
}

.tech-radar-container {
  overflow: visible;
  padding-left: 60px;
  padding-right: 60px;
}

.progress-bar-fill {
  transition: width 300ms ease-out;
}

.preloader-text {
  text-rendering: optimizeLegibility;
}

.i-char {
  position: relative;
  display: inline-block;
}

.i-dot {
  width: 0.18em;
  height: 0.18em;
  left: 50%;
  top: 0.05em;
  transform: translateX(-50%);
  z-index: 9999;
}

.project-card-image {
  transition-property: background-color, color;
}
