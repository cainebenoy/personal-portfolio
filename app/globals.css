@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --paper: #f4f1ea;
  --ink: #2b2b2b;
  --highlight: #ff4757;
  --blue-ink: #2f3542;
}

body {
  background-color: var(--paper);
  color: var(--ink);
  cursor: none; /* We will build a custom cursor next */
  overflow-x: hidden;
  -webkit-user-select: none; /* Safari Support */
  user-select: none;
}

/* Highlighter Selection Style */
::selection {
  background: var(--highlight);
  color: white;
  text-shadow: none;
}

.writing-vertical-rl { writing-mode: vertical-rl; }

/* Paper Texture Overlay */
.paper-texture {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 0;
  opacity: 0.6;
  /* Removed CORS-blocked external texture - using CSS gradient instead */
  background: linear-gradient(45deg, rgba(0,0,0,0.02) 25%, transparent 25%, transparent 75%, rgba(0,0,0,0.02) 75%, rgba(0,0,0,0.02)), linear-gradient(45deg, rgba(0,0,0,0.02) 25%, transparent 25%, transparent 75%, rgba(0,0,0,0.02) 75%, rgba(0,0,0,0.02));
  background-size: 2px 2px;
  background-position: 0 0, 1px 1px;
  mix-blend-mode: multiply;
  /* Film Grain Animation */
  animation: grain 8s steps(10) infinite;
}

@keyframes grain {
  0%, 100% { background-position: 0 0, 1px 1px; }
  10% { background-position: -5% -10%, 1px 1px; }
  20% { background-position: -15% 5%, 1px 1px; }
  30% { background-position: 7% -25%, 1px 1px; }
  40% { background-position: 20% 25%, 1px 1px; }
  50% { background-position: -25% 10%, 1px 1px; }
  60% { background-position: 15% 5%, 1px 1px; }
  70% { background-position: 0% 15%, 1px 1px; }
  80% { background-position: 25% 35%, 1px 1px; }
  90% { background-position: -10% 10%, 1px 1px; }
}

.writing-vertical {
  writing-mode: vertical-rl;
}

.tear-strip.tearing {
  animation: tear-drop 0.65s cubic-bezier(0.22, 0.61, 0.36, 1);
  transform-origin: top center;
}
.copy-toast { pointer-events: none; }

@keyframes tear-drop {
  0% { transform: translateY(0) rotate(0deg) scaleY(1); opacity: 1; }
  25% { transform: translateY(4px) rotate(-2deg) scaleY(0.96); }
  55% { transform: translateY(28px) rotate(3deg) scaleY(0.85); opacity: 0.9; }
  100% { transform: translateY(140px) rotate(6deg) scaleY(0.35); opacity: 0; }
}

/* Scrollbar */
::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-track { background: var(--paper); }
::-webkit-scrollbar-thumb { background: #ccc; border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: var(--ink); }

/* Utilities */
.magnetic { display: inline-block; transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
.reveal-text { opacity: 0; transform: translateY(100px); }

@keyframes confetti-fall {
  0% { 
    transform: translateY(0) rotate(0deg) translateX(0);
    opacity: 1;
  }
  100% { 
    transform: translateY(100vh) rotate(720deg) translateX(100px);
    opacity: 0;
  }
}

.animate-confetti-fall {
  animation: confetti-fall 3s linear forwards;
}

/* Grunge Mask for Credentials Bin */
.mask-image-grunge {
  /* Removed CORS-blocked external mask - using CSS fallback */
  opacity: 0.95;
}

/* Stamp Badge Style */
.stamp-badge {
  border: 3px double var(--blue-ink);
  color: var(--blue-ink);
  border-radius: 50%;
  width: 100px;
  height: 100px;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  font-family: 'Permanent Marker', cursive;
  font-size: 0.8rem;
  transform: rotate(-15deg);
  opacity: 0.7;
}

/* Certificate Modal Animations */
@keyframes backdropFadeIn {
  from {
    background-color: rgba(0, 0, 0, 0);
    backdrop-filter: blur(0px);
  }
  to {
    background-color: rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(8px);
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes scaleInCenter {
  from {
    opacity: 0;
    transform: scale(0.92) translateY(20px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}
@keyframes slideInCard {
  0% {
    opacity: 0;
    transform: translateY(100px) rotate(10deg) scale(0.9);
  }
  100% {
    opacity: 1;
    transform: translateY(0) rotate(0deg) scale(1);
  }
}

.animate-slide-in-card {
  animation: slideInCard 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

.skeleton {
  background: linear-gradient(
    90deg,
    rgba(0, 0, 0, 0.03) 25%,
    rgba(0, 0, 0, 0.08) 50%,
    rgba(0, 0, 0, 0.03) 75%
  );
  background-size: 200% 100%;
  animation: skeleton-loading 1.5s infinite;
}

@keyframes skeleton-loading {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}
